define(["require","exports","tslib","react","modules/clean/abuse/report_flag","modules/clean/react/account_menu/account_menu","modules/clean/react/file_action_button_type","modules/clean/react/file_action_button_type","modules/clean/react/file_viewer/constants","modules/clean/react/open_in_app/button","modules/clean/react/share_download/button","modules/clean/react/share_sync/button","modules/clean/react/shared_link/actions","modules/clean/react/sign_in/button","modules/clean/react/sign_in/popover_or_mobile_item","modules/clean/react/title_bar/controls_container","modules/clean/react/user_notifications/dropdown","modules/clean/react/size_class/constants","modules/clean/react/title_bar/overflow_menu","modules/clean/react/share_download/util","modules/clean/viewer"],(function(e,n,t,o,a,l,r,i,s,u,c,d,m,_,f,p,h,k,v,y,b){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o=t.__importDefault(o),m=t.__importStar(m);var w=(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.accountMenuOptions,r=e.folder,i=e.outOfQuota,m=e.sharedLinkInfo,f=e.sharePermission,y=e.shareToken,w=e.showSyncCoachmark,P=e.sizeClass,S=e.user,g=m.hasPublicAudienceOrVisibility,O=m.displayName,I=f.canRemoveLinkUids,A=f.canSyncToDropboxRoles,M=y.linkKey,N=I.length>0;if(P===k.SizeClass.Small)return o.default.createElement(L,{accountMenuOptions:n,canRemoveLink:N,canRemoveLinkUids:I,displayName:O,linkKey:M,folder:r,sharedLinkInfo:m,shareToken:y,sharePermission:f,user:S});var C=A.length>0,T=!!r.open_in_app_data;return o.default.createElement(p.TitleBarControlsContainer,null,!1!==g?o.default.createElement(a.ReportFlag,{isFolderLink:!0,sharedLink:m.url,shareToken:y}):null,T?o.default.createElement(u.OpenInAppButton,{urls:r.open_in_app_data,userActionContext:s.UserActionContext.TitleBarMain}):null,null!=S?o.default.createElement(l.AccountMenu,t.__assign({},n,{accountPhotoUrl:"personal"===S.role?n.personalAccountPhotoUrl:n.workAccountPhotoUrl,user:S,viewer:b.Viewer.get_viewer()})):o.default.createElement(_.SignInButton,{isPrimaryButton:T}),C?o.default.createElement(d.ShareSyncButton,{folder:r,outOfQuota:i,sharedLinkInfo:m,sharePermission:f,shareToken:y,showSyncCoachmark:w,user:S}):null,o.default.createElement(c.ShareDownloadButton,{copyable:r,sharedLinkInfo:m,shareToken:y,sharePermission:f,user:S}),o.default.createElement(v.OverflowMenu,{hideOnDisabled:!0},N?o.default.createElement(E,{contentName:O,linkKey:M,userId:I[0]}):null),null!=S?o.default.createElement("div",{className:"react-title-bar__divider"}):null,null==S||S.is_guest_admin?null:o.default.createElement(h.UserNotificationsDropdown,{isPagelet:!1}))},n})(o.default.Component);n.SharedLinkFolderControls=w;var E=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.removeShareLink=function(e){e.preventDefault();var t=n.props,o=t.contentName,a=t.userId,l=t.linkKey;m.removeLinkAsNonOwner(a,l,o)},n}return t.__extends(n,e),n.prototype.render=function(){return o.default.createElement(v.PopoverOrMobileItem,{className:"__remove_share_link",onSelect:this.removeShareLink},i.getFileActionButtonText(r.FileActionButtonType.REMOVE_LINK))},n})(o.default.Component);function L(e){var n=e.accountMenuOptions,a=e.canRemoveLink,r=e.canRemoveLinkUids,i=e.displayName,s=e.linkKey,u=e.folder,c=e.sharedLinkInfo,d=e.shareToken,m=e.sharePermission,_=e.user;return o.default.createElement("div",{className:"react-title-bar__controls"},null!=_?o.default.createElement("div",{className:"fsl-account-menu-small"},o.default.createElement(l.AccountMenu,t.__assign({},n,{accountPhotoUrl:"personal"===_.role?n.personalAccountPhotoUrl:n.workAccountPhotoUrl,user:_,viewer:b.Viewer.get_viewer()}))):null,o.default.createElement(v.OverflowMenu,null,a?o.default.createElement(E,{key:"remove-link",contentName:i,linkKey:s,userId:r[0]}):null,y.getDownloadOptionsAsPopoverOrMobileItems(m,c,d,u),null==_?o.default.createElement(f.SignInPopoverOrMobileItem,{key:"sign-in"}):null))}n.RemoveShareLink=E,n.SharedLinkControlsSmall=L}));
//# sourceMappingURL=controls.min.js-vflfsGYVh.map