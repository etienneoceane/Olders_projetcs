define(["require","exports","tslib","grapheme-splitter"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r);var i=parseInt("40px",10);function u(e,t,n){void 0===n&&(n="");var r=Math.floor(t/2),i=e.slice(0,r);return n&&i.push(n),i.push.apply(i,e.slice(e.length-r,e.length)),{newGraphemes:i,newStr:i.join("")}}var a=new r.default;function h(e,t){void 0===t&&(t="");var n=a.splitGraphemes(e);return u(n,n.length,t).newStr}function l(e,t,n){var r,i=n(e),h=a.splitGraphemes(e);if(i<t||h.length<=2)return e;var l=u(h,Math.floor(t/i*h.length)),o=l.newGraphemes,s=l.newStr;for(i=n(s);i>t;)o=(r=u(o,o.length-1)).newGraphemes,i=n(s=r.newStr);return s}t.truncateStringByRenderWidth=function(e,t,n){var r=n(e),i=a.splitGraphemes(e);if(r<=t||i.length<=2)return e;var h,l=Math.floor(t/r*i.length);do{h=u(i,l,"…").newStr,l--}while(n(h)>t&&l>1);return h},t.truncateStringByLength=function(e,t){var n=a.splitGraphemes(e);return n.length<=Math.max(t,2)?e:u(n,t,"…").newStr},t.recalcText=function(e,t,n){var r=t-2*i;if(r>0){var u,a=e.substring(e.lastIndexOf(".")||e.length,e.length)||"",o=e.substring(0,e.length-a.length),s=r-n("…"+a);return s<0?(u=l(e,r,n))!==e?h(u,"…"):e:(u=l(o,s,n))!==o?""+h(u,"…")+a:e}return""},t.measureRenderedTextLen=function(e,t){if(!t)return 0;if("function"!=typeof t.getComputedTextLength)return 0;t.textContent=e;var n=t.getComputedTextLength();return t.textContent="",n}}));
//# sourceMappingURL=truncate.min.js-vfln3VCBP.map