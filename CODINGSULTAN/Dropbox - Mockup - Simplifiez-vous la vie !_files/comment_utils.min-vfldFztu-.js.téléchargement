define(["require","exports","tslib","comments2/components/comment_editor/draft_utils"],(function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.truncateComment=function(t,e){void 0===e&&(e=100);var c=t.content.text;if(c.length<=e)return t;for(var a=c.split("\n").map(o.decodeUnicode),r=[],i=0,s=0;s<a.length&&i<e;s++){var d=a[s],u=e-i;u<d.length?(r=r.concat([d.slice(0,u)]),i=e):(r=r.concat([d]),i+=d.length)}var l=r.map(o.encodeUnicode).join("\n"),m=t.content.metadata;return n.__assign({},t,{content:{metadata:m.reduce((function(t,o){if("sticker"===o.type)return t.concat([o]);var c=o.location;return c.start<e?t.concat([n.__assign({},o,{location:n.__assign({},c,{end:Math.min(c.end,e)})})]):t}),[]),text:l+"â€¦"}})}}));
//# sourceMappingURL=comment_utils.min.js-vflU2mM1o.map